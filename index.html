<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>NML ‚Äî NIS Media League</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <style>
    /* ============================================================
       ADDITIONS: Team Logos, Rosters, Goal Scorers, Players Tab
       ============================================================ */

    /* --- Team logo (small, in table/cards) --- */
    .team-logo-sm {
      width: 22px; height: 22px;
      object-fit: contain;
      border-radius: 4px;
      margin-right: 7px;
      vertical-align: middle;
      flex-shrink: 0;
    }
    .team-logo-placeholder-sm {
      display: inline-flex;
      align-items: center; justify-content: center;
      width: 22px; height: 22px;
      border-radius: 4px;
      background: rgba(255,255,255,.08);
      font-size: 11px;
      margin-right: 7px;
      vertical-align: middle;
      flex-shrink: 0;
    }
    .col-team {
      cursor: pointer;
    }
    .col-team:hover .team-cell-name {
      text-decoration: underline;
      text-underline-offset: 3px;
    }
    .team-cell {
      display: flex;
      align-items: center;
    }
    .team-cell-name { flex: 1; }

    /* --- Team Modal --- */
    .modal-overlay-team {
      position: fixed; inset: 0;
      background: rgba(0,0,0,.72);
      display: flex; align-items: center; justify-content: center;
      z-index: 200;
      padding: 16px;
      backdrop-filter: blur(4px);
    }
    .team-modal-box {
      background: var(--bg-card, #1a1a2e);
      border-radius: 16px;
      width: 100%; max-width: 560px;
      max-height: 85vh;
      display: flex; flex-direction: column;
      box-shadow: 0 32px 80px rgba(0,0,0,.6);
      overflow: hidden;
      border: 1px solid rgba(255,255,255,.08);
    }
    .team-modal-header {
      display: flex; align-items: center; gap: 16px;
      padding: 24px 24px 18px;
      border-bottom: 1px solid rgba(255,255,255,.08);
      position: relative;
    }
    .team-logo-wrap {
      display: flex; flex-direction: column;
      align-items: center; gap: 6px;
      flex-shrink: 0;
    }
    .team-logo-lg {
      width: 72px; height: 72px;
      object-fit: contain;
      border-radius: 10px;
      background: rgba(255,255,255,.06);
    }
    .logo-placeholder-lg {
      width: 72px; height: 72px;
      border-radius: 10px;
      background: rgba(255,255,255,.06);
      display: flex; align-items: center; justify-content: center;
      font-size: 28px;
      border: 2px dashed rgba(255,255,255,.15);
    }
    .logo-upload-btn {
      font-size: 0.72rem;
      padding: 3px 9px;
      border-radius: 6px;
      border: 1px solid rgba(255,255,255,.2);
      background: transparent;
      color: rgba(255,255,255,.6);
      cursor: pointer;
      white-space: nowrap;
      display: none;
      transition: all .15s;
    }
    .admin-mode .logo-upload-btn { display: inline-block; }
    .logo-upload-btn:hover { background: rgba(255,255,255,.1); color: #fff; }
    .team-modal-info { flex: 1; min-width: 0; }
    .team-modal-info h3 { margin: 0 0 4px; font-size: 1.3rem; }
    .team-modal-meta {
      font-size: 0.82rem;
      opacity: .6;
      display: flex; flex-wrap: wrap; gap: 12px;
      margin: 0;
    }
    .meta-item { white-space: nowrap; }
    .team-modal-close {
      position: absolute; right: 16px; top: 16px;
      background: rgba(255,255,255,.08);
      border: none; border-radius: 50%;
      width: 32px; height: 32px;
      display: flex; align-items: center; justify-content: center;
      cursor: pointer; color: #fff; font-size: 1rem;
      transition: background .15s;
    }
    .team-modal-close:hover { background: rgba(255,255,255,.16); }
    .team-modal-body {
      flex: 1; overflow-y: auto;
      padding: 16px 24px 24px;
    }
    .roster-section-head {
      display: flex; align-items: center; justify-content: space-between;
      margin-bottom: 12px;
    }
    .roster-section-head h4 { margin: 0; font-size: 0.95rem; opacity: .7; text-transform: uppercase; letter-spacing: .06em; }
    .btn-add-player {
      font-size: 0.78rem; padding: 5px 12px;
      border-radius: 8px;
      background: var(--accent, #6c5ce7);
      color: #fff; border: none; cursor: pointer;
      display: none;
      transition: opacity .15s;
    }
    .admin-mode .btn-add-player { display: inline-block; }
    .btn-add-player:hover { opacity: .85; }

    .add-player-form {
      display: none;
      gap: 8px;
      flex-wrap: wrap;
      margin-bottom: 12px;
      background: rgba(255,255,255,.04);
      padding: 12px;
      border-radius: 10px;
    }
    .add-player-form.visible { display: flex; }
    .add-player-form input {
      padding: 7px 10px;
      border-radius: 7px;
      border: 1px solid rgba(255,255,255,.15);
      background: rgba(255,255,255,.06);
      color: #fff; font-size: 0.88rem;
    }
    .add-player-form input:focus { outline: none; border-color: var(--accent, #6c5ce7); }
    .add-player-form .inp-num { width: 62px; }
    .add-player-form .inp-name { flex: 1; min-width: 120px; }
    .add-player-form .inp-rating { width: 72px; }
    .add-player-form .form-btns { display: flex; gap: 6px; }

    .player-item {
      display: flex; align-items: center; gap: 10px;
      padding: 9px 12px;
      border-radius: 9px;
      background: rgba(255,255,255,.04);
      margin-bottom: 5px;
      transition: background .12s;
    }
    .player-item:hover { background: rgba(255,255,255,.07); }
    .player-num {
      font-weight: 700; font-size: 0.88rem;
      min-width: 28px; text-align: center;
      opacity: .5;
    }
    .player-name { flex: 1; font-weight: 500; font-size: 0.93rem; }
    .player-goals-badge {
      background: var(--accent, #6c5ce7);
      color: #fff; padding: 2px 9px;
      border-radius: 12px; font-size: 0.74rem; font-weight: 700;
    }
    .player-goals-badge.zero { background: rgba(255,255,255,.12); }
    .player-rating {
      font-size: 0.8rem; font-weight: 600;
      background: rgba(255,255,255,.08);
      padding: 2px 9px; border-radius: 10px;
    }
    .btn-remove-player {
      background: none; border: none;
      color: #ff6b6b; cursor: pointer;
      font-size: 1rem; padding: 2px 4px;
      border-radius: 4px;
      display: none;
      opacity: .7; transition: opacity .12s;
    }
    .admin-mode .btn-remove-player { display: inline; }
    .btn-remove-player:hover { opacity: 1; }
    .no-players-msg {
      text-align: center; padding: 24px;
      opacity: .4; font-size: 0.88rem;
    }

    /* --- Goal Scorers in match modal --- */
    .goal-scorers-panel {
      margin-top: 16px;
      border-top: 1px solid rgba(255,255,255,.1);
      padding-top: 14px;
    }
    .gs-panel-head {
      display: flex; align-items: center; gap: 8px;
      margin-bottom: 12px; font-weight: 600; font-size: 0.9rem;
    }
    .gs-count-badge {
      background: var(--accent, #6c5ce7);
      color: #fff; padding: 2px 9px;
      border-radius: 12px; font-size: 0.78rem; font-weight: 700;
      min-width: 22px; text-align: center;
    }
    .gs-two-cols {
      display: grid; grid-template-columns: 1fr 1fr; gap: 10px;
      margin-bottom: 10px;
    }
    @media (max-width: 440px) { .gs-two-cols { grid-template-columns: 1fr; } }
    .gs-col-label {
      font-size: 0.75rem; font-weight: 600; opacity: .6;
      text-align: center; margin-bottom: 5px;
      text-overflow: ellipsis; overflow: hidden; white-space: nowrap;
    }
    .gs-player-btn {
      display: block; width: 100%;
      text-align: left;
      padding: 5px 9px; margin-bottom: 3px;
      background: rgba(255,255,255,.05);
      border: 1px solid rgba(255,255,255,.1);
      border-radius: 7px;
      color: #fff; cursor: pointer; font-size: 0.8rem;
      transition: all .12s;
    }
    .gs-player-btn:hover {
      background: var(--accent, #6c5ce7);
      border-color: var(--accent, #6c5ce7);
    }
    .gs-no-players {
      text-align: center; font-size: 0.78rem;
      opacity: .4; padding: 6px 0;
    }
    .goals-chips {
      display: flex; flex-wrap: wrap; gap: 5px; min-height: 16px;
    }
    .goal-chip {
      display: inline-flex; align-items: center; gap: 5px;
      background: rgba(255,255,255,.09);
      border-radius: 16px; padding: 4px 10px 4px 8px;
      font-size: 0.78rem; line-height: 1.2;
    }
    .goal-chip-dot {
      width: 7px; height: 7px; border-radius: 50%; flex-shrink: 0;
    }
    .goal-chip-remove {
      background: none; border: none;
      color: #ff6b6b; cursor: pointer;
      padding: 0; font-size: 1rem; line-height: 1;
      margin-left: 2px;
    }
    .gs-mismatch-warn {
      font-size: 0.75rem; color: #fdcb6e;
      margin-top: 7px; text-align: center;
    }

    /* --- Players Tab --- */
    .players-page { padding: 0; }
    .players-tab-header {
      display: flex; align-items: center; justify-content: space-between;
      flex-wrap: wrap; gap: 10px; margin-bottom: 20px;
    }
    .players-tab-header h2 { margin: 0; }
    .team-filter-select {
      padding: 8px 14px;
      border-radius: 9px;
      border: 1px solid rgba(255,255,255,.15);
      background: rgba(255,255,255,.06);
      color: #fff; font-size: 0.88rem; cursor: pointer;
      min-width: 160px;
    }
    .team-filter-select:focus { outline: none; }
    .team-filter-select option { background: #1a1a2e; }

    .scorers-section-title {
      font-size: 0.75rem; font-weight: 700;
      text-transform: uppercase; letter-spacing: .08em;
      opacity: .5; margin: 20px 0 10px;
    }
    .scorers-list {
      display: flex; flex-direction: column; gap: 4px;
    }
    .scorer-row {
      display: flex; align-items: center; gap: 12px;
      padding: 11px 14px; border-radius: 10px;
      background: rgba(255,255,255,.04);
      transition: background .12s;
    }
    .scorer-row:hover { background: rgba(255,255,255,.07); }
    .scorer-rank {
      font-weight: 800; font-size: 0.95rem;
      min-width: 28px; text-align: center; opacity: .5;
    }
    .scorer-rank.top { opacity: 1; color: var(--accent, #6c5ce7); }
    .scorer-logo-sm {
      width: 28px; height: 28px;
      object-fit: contain; border-radius: 5px;
      background: rgba(255,255,255,.06); flex-shrink: 0;
    }
    .scorer-logo-placeholder {
      width: 28px; height: 28px;
      border-radius: 5px;
      background: rgba(255,255,255,.08);
      display: flex; align-items: center; justify-content: center;
      font-size: 13px; flex-shrink: 0;
    }
    .scorer-info { flex: 1; min-width: 0; }
    .scorer-name { font-weight: 600; font-size: 0.93rem; }
    .scorer-team-name { font-size: 0.78rem; opacity: .55; }
    .scorer-goals-col {
      display: flex; align-items: center; gap: 5px;
    }
    .scorer-goals-num {
      font-size: 1.2rem; font-weight: 800; color: var(--accent, #6c5ce7);
      min-width: 28px; text-align: center;
    }
    .scorer-goals-label { font-size: 0.75rem; opacity: .5; }
    .scorer-rating-col {
      min-width: 48px; text-align: center;
    }
    .scorer-rating-val {
      display: inline-block;
      background: rgba(255,255,255,.09);
      border-radius: 7px; padding: 3px 9px;
      font-size: 0.85rem; font-weight: 700;
    }
    .players-empty {
      text-align: center; padding: 48px 16px;
      opacity: .4;
    }
    .players-empty .empty-icon { font-size: 3rem; margin-bottom: 12px; }
    .players-empty p { margin: 0; font-size: 0.9rem; }

    /* --- Logo in admin team list --- */
    .team-item {
      display: flex; align-items: center; gap: 10px;
    }
    .team-item-logo {
      width: 30px; height: 30px;
      object-fit: contain; border-radius: 5px;
      cursor: pointer; flex-shrink: 0;
    }
    .team-item-logo-ph {
      width: 30px; height: 30px;
      border-radius: 5px;
      background: rgba(255,255,255,.06);
      border: 1px dashed rgba(255,255,255,.2);
      display: flex; align-items: center; justify-content: center;
      font-size: 13px; cursor: pointer; flex-shrink: 0;
      transition: background .12s;
    }
    .team-item-logo-ph:hover { background: rgba(255,255,255,.12); }

    /* misc */
    .btn-sm-ghost {
      background: none;
      border: 1px solid rgba(255,255,255,.2);
      color: rgba(255,255,255,.7);
      padding: 5px 10px; border-radius: 7px;
      font-size: 0.8rem; cursor: pointer;
      transition: all .12s;
    }
    .btn-sm-ghost:hover { background: rgba(255,255,255,.08); color: #fff; }
    .btn-sm-accent {
      background: var(--accent, #6c5ce7);
      border: none; color: #fff;
      padding: 6px 12px; border-radius: 7px;
      font-size: 0.82rem; cursor: pointer;
      transition: opacity .12s; font-weight: 600;
    }
    .btn-sm-accent:hover { opacity: .85; }
  </style>
</head>
<body>

  <!-- Loading overlay -->
  <div id="loading" class="loading-overlay">
    <div class="loading-spinner"></div>
    <p>–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</p>
  </div>

  <div class="app" id="app" style="display:none">

    <!-- Header -->
    <header class="header">
      <div class="header-content">
        <div class="logo">
          <div class="logo-icon">NML</div>
          <div class="logo-text">
            <h1>NIS Media League</h1>
            <p>–®–∫–æ–ª—å–Ω–∞—è —Ñ—É—Ç–±–æ–ª—å–Ω–∞—è –ª–∏–≥–∞ &bull; –°–µ–∑–æ–Ω 2025/26</p>
          </div>
        </div>
        <div class="admin-access">
          <span id="adminBadge" class="admin-badge" hidden>ADMIN</span>
          <div id="codeBox" class="code-box" hidden>
            <input type="password" id="adminCode" placeholder="–ö–æ–¥ –¥–æ—Å—Ç—É–ø–∞" autocomplete="off">
          </div>
          <button id="lockBtn" class="lock-btn" title="–í—Ö–æ–¥ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞">üîí</button>
        </div>
      </div>
    </header>

    <!-- Stats bar -->
    <div class="stats-bar">
      <div class="stat-card">
        <span class="stat-value" id="statTeams">16</span>
        <span class="stat-label">–ö–æ–º–∞–Ω–¥</span>
      </div>
      <div class="stat-card">
        <span class="stat-value" id="statPlayed">0</span>
        <span class="stat-label">–ú–∞—Ç—á–µ–π —Å—ã–≥—Ä–∞–Ω–æ</span>
      </div>
      <div class="stat-card">
        <span class="stat-value" id="statGoals">0</span>
        <span class="stat-label">–ì–æ–ª–æ–≤ –∑–∞–±–∏—Ç–æ</span>
      </div>
      <div class="stat-card">
        <span class="stat-value" id="statRemaining">64</span>
        <span class="stat-label">–ú–∞—Ç—á–µ–π –æ—Å—Ç–∞–ª–æ—Å—å</span>
      </div>
    </div>

    <!-- Navigation -->
    <nav class="nav">
      <button class="nav-btn active" data-tab="table">–¢–∞–±–ª–∏—Ü–∞</button>
      <button class="nav-btn" data-tab="matches">–ú–∞—Ç—á–∏</button>
      <button class="nav-btn" data-tab="players">–ò–≥—Ä–æ–∫–∏</button>
      <button class="nav-btn" data-tab="playoff">–ü–ª–µ–π-–æ—Ñ—Ñ</button>
      <button class="nav-btn" data-tab="admin">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</button>
    </nav>

    <!-- Tabs -->
    <div class="tab-content">

      <!-- League Table -->
      <section id="tab-table" class="tab active">
        <div class="zone-legend">
          <span class="zone-badge zone-playoff">–ü–ª–µ–π-–æ—Ñ—Ñ (1-6)</span>
          <span class="zone-badge zone-qual">–°—Ç—ã–∫–æ–≤—ã–µ (7-10)</span>
          <span class="zone-badge zone-out">–í–Ω–µ –∑–æ–Ω—ã (11-16)</span>
        </div>
        <div class="table-wrapper">
          <table class="league-table">
            <thead>
              <tr>
                <th class="col-pos">#</th>
                <th class="col-team">–ö–æ–º–∞–Ω–¥–∞</th>
                <th>P</th><th>W</th><th>D</th><th>L</th>
                <th>GS</th><th>GC</th><th>GD</th>
                <th class="col-pts">Pts</th>
              </tr>
            </thead>
            <tbody id="tableBody"></tbody>
          </table>
        </div>
      </section>

      <!-- Matches -->
      <section id="tab-matches" class="tab">
        <div id="matchdays"></div>
      </section>

      <!-- Players / Scorers -->
      <section id="tab-players" class="tab">
        <div class="players-page">
          <div class="players-tab-header">
            <h2>‚öΩ –ò–≥—Ä–æ–∫–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
            <select id="playerTeamFilter" class="team-filter-select" onchange="NML.filterPlayers(this.value)">
              <option value="">–í—Å–µ –∫–æ–º–∞–Ω–¥—ã</option>
            </select>
          </div>
          <div id="playersContent"></div>
        </div>
      </section>

      <!-- Playoff -->
      <section id="tab-playoff" class="tab">
        <div id="playoffContent"></div>
      </section>

      <!-- Admin -->
      <section id="tab-admin" class="tab">
        <div class="admin-grid">
          <div class="admin-card">
            <h3>–ù–∞–∑–≤–∞–Ω–∏—è –∏ –ª–æ–≥–æ—Ç–∏–ø—ã –∫–æ–º–∞–Ω–¥</h3>
            <p class="hint">–ö–ª–∏–∫–Ω–∏—Ç–µ –ø–æ –∏–∫–æ–Ω–∫–µ –∫–æ–º–∞–Ω–¥—ã, —á—Ç–æ–±—ã –∑–∞–≥—Ä—É–∑–∏—Ç—å –ª–æ–≥–æ—Ç–∏–ø. –ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–º–µ–Ω–∏.</p>
            <div id="teamList" class="team-list"></div>
          </div>
          <div class="admin-card">
            <h3>–ñ–µ—Ä–µ–±—å—ë–≤–∫–∞</h3>
            <p class="hint">–û–¥–∏–Ω–∞–∫–æ–≤–æ–µ —á–∏—Å–ª–æ = –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–±—Ä–æ—Å–∏—Ç –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.</p>
            <div class="seed-row">
              <input type="number" id="seedInput" placeholder="–ß–∏—Å–ª–æ –¥–ª—è –∂–µ—Ä–µ–±—å—ë–≤–∫–∏">
              <button id="generateBtn" class="btn-accent">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</button>
            </div>
          </div>
          <div class="admin-card">
            <h3>–ò–º–ø–æ—Ä—Ç / –≠–∫—Å–ø–æ—Ä—Ç –º–∞—Ç—á–µ–π</h3>
            <p class="hint">–ó–∞–≥—Ä—É–∑–∏—Ç–µ JSON —Å –≥–æ—Ç–æ–≤—ã–º–∏ –º–∞—Ç—á–∞–º–∏ –∏–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ —Ç–µ–∫—É—â–∏–µ.</p>
            <div class="import-export-row">
              <button id="exportMatchesBtn" class="btn-secondary">–°–∫–∞—á–∞—Ç—å –º–∞—Ç—á–∏</button>
              <label class="btn-accent file-label">
                –ó–∞–≥—Ä—É–∑–∏—Ç—å –º–∞—Ç—á–∏
                <input type="file" id="importMatchesFile" accept=".json" hidden>
              </label>
            </div>
            <details class="import-hint-details">
              <summary>–§–æ—Ä–º–∞—Ç JSON</summary>
              <pre class="import-hint-code">[
  {
    "home": "–ö–æ–º–∞–Ω–¥–∞ –ê",
    "away": "–ö–æ–º–∞–Ω–¥–∞ –ë",
    "home_goals": 2,
    "away_goals": 1,
    "round": 1,
    "match_type": "group"
  }
]</pre>
            </details>
          </div>
          <div class="admin-card">
            <h3>–î–æ–±–∞–≤–∏—Ç—å –º–∞—Ç—á –≤—Ä—É—á–Ω—É—é</h3>
            <select id="manualHome"></select>
            <input type="number" id="manualHomeGoals" min="0" placeholder="–ì–æ–ª—ã">
            <select id="manualAway"></select>
            <input type="number" id="manualAwayGoals" min="0" placeholder="–ì–æ–ª—ã">
            <button id="addMatchBtn" class="btn-accent">–î–æ–±–∞–≤–∏—Ç—å –º–∞—Ç—á</button>
          </div>
          <div class="admin-card">
            <h3>–ò–º–ø–æ—Ä—Ç / –≠–∫—Å–ø–æ—Ä—Ç —Ç–∞–±–ª–∏—Ü—ã</h3>
            <p class="hint">–ó–∞–≥—Ä—É–∑–∏—Ç–µ JSON —Å –≥–æ—Ç–æ–≤–æ–π —Ç–∞–±–ª–∏—Ü–µ–π –∏–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ —Ç–µ–∫—É—â—É—é.</p>
            <div class="import-export-row">
              <button id="exportTableBtn" class="btn-secondary">–°–∫–∞—á–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É</button>
              <label class="btn-accent file-label">
                –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É
                <input type="file" id="importTableFile" accept=".json" hidden>
              </label>
            </div>
            <div id="customTableBadge" class="custom-table-badge" hidden>
              –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞
              <button id="clearCustomTable" class="btn-ghost btn-small">–°–±—Ä–æ—Å–∏—Ç—å</button>
            </div>
            <details class="import-hint-details">
              <summary>–§–æ—Ä–º–∞—Ç JSON</summary>
              <pre class="import-hint-code">[
  {
    "name": "–ö–æ–º–∞–Ω–¥–∞ –ê",
    "p": 8, "w": 5, "d": 2, "l": 1,
    "gs": 15, "gc": 8, "pts": 17
  }
]</pre>
            </details>
          </div>
          <div class="admin-card">
            <h3>–°–±—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö</h3>
            <p class="hint">–£–¥–∞–ª–∏—Ç –≤—Å–µ –º–∞—Ç—á–∏ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã. –ö–æ–º–∞–Ω–¥—ã –æ—Å—Ç–∞–Ω—É—Ç—Å—è.</p>
            <button id="resetBtn" class="btn-danger">–°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –º–∞—Ç—á–∏</button>
          </div>
        </div>
      </section>

    </div>

    <footer class="footer">
      NML ‚Äî NIS Media League &bull; –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Supabase
    </footer>
  </div>

  <!-- ======================= MATCH RESULT MODAL ======================= -->
  <div id="modal" class="modal-overlay" hidden>
    <div class="modal">
      <h3 id="modalTitle">–†–µ–∑—É–ª—å—Ç–∞—Ç –º–∞—Ç—á–∞</h3>
      <div class="modal-match">
        <div class="modal-team">
          <span id="modalHomeName">-</span>
          <input type="number" id="modalHomeGoals" min="0" value="0">
        </div>
        <span class="modal-vs">:</span>
        <div class="modal-team">
          <input type="number" id="modalAwayGoals" min="0" value="0">
          <span id="modalAwayName">-</span>
        </div>
      </div>

      <!-- Goal Scorers Panel (shown when players exist) -->
      <div id="goalScorersPanel" class="goal-scorers-panel" hidden>
        <div class="gs-panel-head">
          ‚öΩ –ê–≤—Ç–æ—Ä—ã –≥–æ–ª–æ–≤
          <span id="gsCountBadge" class="gs-count-badge">0</span>
        </div>
        <div class="gs-two-cols">
          <div>
            <div id="gsHomeLabel" class="gs-col-label"></div>
            <div id="gsHomePlayers"></div>
          </div>
          <div>
            <div id="gsAwayLabel" class="gs-col-label"></div>
            <div id="gsAwayPlayers"></div>
          </div>
        </div>
        <div id="goalsChips" class="goals-chips"></div>
        <div id="gsMismatchWarn" class="gs-mismatch-warn" hidden></div>
      </div>

      <div class="modal-actions">
        <button id="modalSave" class="btn-accent">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        <button id="modalClear" class="btn-secondary">–û—á–∏—Å—Ç–∏—Ç—å</button>
        <button id="modalCancel" class="btn-ghost">–û—Ç–º–µ–Ω–∞</button>
      </div>
    </div>
  </div>

  <!-- ========================= TEAM MODAL ========================= -->
  <div id="teamModal" class="modal-overlay-team" hidden>
    <div class="team-modal-box">
      <div class="team-modal-header">
        <div class="team-logo-wrap">
          <img id="tmLogoImg" class="team-logo-lg" hidden>
          <div id="tmLogoPlaceholder" class="logo-placeholder-lg">‚öΩ</div>
          <label class="logo-upload-btn" title="–ó–∞–≥—Ä—É–∑–∏—Ç—å –ª–æ–≥–æ—Ç–∏–ø">
            üì∑ –õ–æ–≥–æ
            <input type="file" id="tmLogoInput" accept="image/*" hidden>
          </label>
        </div>
        <div class="team-modal-info">
          <h3 id="tmTitle">–ö–æ–º–∞–Ω–¥–∞</h3>
          <p id="tmMeta" class="team-modal-meta"></p>
        </div>
        <button class="team-modal-close" onclick="NML.closeTeam()">‚úï</button>
      </div>
      <div class="team-modal-body">
        <div class="roster-section-head">
          <h4>–°–æ—Å—Ç–∞–≤ –∫–æ–º–∞–Ω–¥—ã</h4>
          <button class="btn-add-player" onclick="NML.toggleAddPlayer()">+ –ò–≥—Ä–æ–∫</button>
        </div>
        <div id="addPlayerForm" class="add-player-form">
          <input id="apNum" type="number" class="inp-num" placeholder="#" min="1" max="99">
          <input id="apName" class="inp-name" placeholder="–ò–º—è –∏–≥—Ä–æ–∫–∞">
          <input id="apRating" type="number" class="inp-rating" placeholder="–†–µ–π—Ç–∏–Ω–≥" min="0" max="10" step="0.1">
          <div class="form-btns">
            <button class="btn-sm-accent" onclick="NML.addPlayer()">‚úì –î–æ–±–∞–≤–∏—Ç—å</button>
            <button class="btn-sm-ghost" onclick="NML.toggleAddPlayer()">–û—Ç–º–µ–Ω–∞</button>
          </div>
        </div>
        <div id="tmRoster"></div>
      </div>
    </div>
  </div>

  <!-- Toast -->
  <div id="toast" class="toast" hidden></div>

  <!-- Supabase JS v2 -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
  <script src="app.js"></script>
</body>
</html>